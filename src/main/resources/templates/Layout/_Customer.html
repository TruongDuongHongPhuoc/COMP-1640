<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <title th:fragment="title">Title</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Infinite Loop - Bootstrap 4.0 HTML Template</title>
    <link rel="stylesheet" href="/forHomepage/fontawesome-5.5/css/all.min.css"/>
    <link rel="stylesheet" href="/forHomepage/slick/slick.css">
    <link rel="stylesheet" href="/forHomepage/slick/slick-theme.css">
    <link rel="stylesheet" href="/forHomepage/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="/forHomepage/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/forHomepage/css/tooplate-infinite-loop.css"/>
</head>
<style>
    .additional-box {
        display: none; /* Hide the box by default */
        position: fixed;
        top: 50%; /* Center vertically */
        left: 50%; /* Center horizontally */
        transform: translate(-50%, -50%);
        background-color: #fff;
        padding: 20px;
        border: 1px solid #ccc;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        z-index: 9999; /* Ensure the box is on top of other content */
        max-height: 80%; /* Limit the height of the box to 80% of the viewport height */
        overflow-y: auto; /* Add a vertical scrollbar when content exceeds the box height */
        @media (max-width: 768px) {
            padding: 10px; /* Decrease padding on smaller screens */
            max-height: 30%; /* Reduce the max-height for smaller screens */
        }
    }

         /* CSS for the scrollable container */
     .scrollable-container {
         max-height: 600px; /* Adjust the maximum height as needed */
         overflow-y: auto; /* Enable vertical scrolling */
         border: 1px solid #ccc; /* Optional: Add border for clarity */
         padding: 10px; /* Optional: Add padding for content */
     }
    .navbar {
        width: 100%; /* Default width */
    }

    /* Media query for mobile devices */
    @media (max-width: 768px) {
        .navbar {
            width: 80%; /* Set width to 80% for screens up to 768px wide (typically mobile devices) */
            margin: auto; /* Center the header horizontally */
        }
        .table {
            font-size: 12px; /* Adjust font size for smaller screens */
        }
    }
</style>
<body>
<nav class="navbar navbar-expand-lg fixed-top">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fas fa-bars navbar-toggler-icon"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent"
             style="background-color: #0b0b0b;border-radius: 50px;">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link tm-nav-link" th:href="@{/home}" style="color: white ;font-weight: bold">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link tm-nav-link" th:href="@{/register}" style="color: white  ;font-weight: bold">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link tm-nav-link" href="#testimonials" style="color: white;font-weight: bold ">Testimonials</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link tm-nav-link" href="#gallery" style="color: white ;font-weight: bold">Gallery</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link tm-nav-link" href="#contact" style="color: white ;font-weight: bold">Contact</a>
                </li>
                <li class="nav-item" sec:authorize="isAnonymous()">
                    <a class="nav-link tm-nav-link" th:href="@{/login}" style="color: white;font-weight: bold">
                        Log in
                    </a>
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link tm-nav-link" th:href="@{/logout}" style="color: white;font-weight: bold">Log
                        out</a>
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link tm-nav-link"  th:href="@{ /account/getuser}">Personal Information</a>
                </li>

            </ul>

    </div>
</nav>
<div style="width: 50px; height: 50px">

</div>
<!--<h1 style="color: black; background-color: black">xxxx</h1>-->
<div layout:fragment="content">
    <h1>Content</h1>
</div>

<!-- Contact -->
<section id="contact" class="tm-section-pad-top tm-parallax-2"
         style="position: -ms-device-fixed; bottom: 0; width: 100%;">
    <div class="container tm-container-contact">
    </div>
    <footer class="text-center small tm-footer">
        <p class="mb-0">
            Copyright &copy; 2020 Company Name

            . <a rel="nofollow" href="#" title="HTML templates">Designed by Truong Duong Hong Phuoc</a></p>
    </footer>

</section>
</body>

<script src="/forHomepage/js/jquery-1.9.1.min.js"></script>
<script src="/forHomepage/slick/slick.min.js"></script>
<script src="/forHomepage/magnific-popup/jquery.magnific-popup.min.js"></script>
<script src="/forHomepage/js/easing.min.js"></script>
<script src="/forHomepage/js/jquery.singlePageNav.min.js"></script>
<script src="/forHomepage/js/bootstrap.min.js"></script>
<script>

    function scrollToBottom() {
        var scrollableContainer = document.getElementById("scrollableContainer");
        scrollableContainer.scrollTop = scrollableContainer.scrollHeight;
    }

    // Scroll to bottom initially
    scrollToBottom();



function getOffSet() {
var _offset = 450;
var windowHeight = window.innerHeight;

if (windowHeight > 500) {
_offset = 400;
}
if (windowHeight > 680) {
            _offset = 300
        }
        if (windowHeight > 830) {
            _offset = 210;
        }

        return _offset;
    }

    function setParallaxPosition($doc, multiplier, $object) {
        var offset = getOffSet();
        var from_top = $doc.scrollTop(),
            bg_css = 'center ' + (multiplier * from_top - offset) + 'px';
        $object.css({"background-position": bg_css});
    }

    // Parallax function
    // Adapted based on https://codepen.io/roborich/pen/wpAsm
    var background_image_parallax = function ($object, multiplier, forceSet) {
        multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
        multiplier = 1 - multiplier;
        var $doc = $(document);
        // $object.css({"background-attatchment" : "fixed"});

        if (forceSet) {
            setParallaxPosition($doc, multiplier, $object);
        } else {
            $(window).scroll(function () {
                setParallaxPosition($doc, multiplier, $object);
            });
        }
    };

    var background_image_parallax_2 = function ($object, multiplier) {
        multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
        multiplier = 1 - multiplier;
        var $doc = $(document);
        $object.css({"background-attachment": "fixed"});

        $(window).scroll(function () {
            if ($(window).width() > 768) {
                var firstTop = $object.offset().top,
                    pos = $(window).scrollTop(),
                    yPos = Math.round((multiplier * (firstTop - pos)) - 186);

                var bg_css = 'center ' + yPos + 'px';

                $object.css({"background-position": bg_css});
            } else {
                $object.css({"background-position": "center"});
            }
        });
    };

    $(function () {
        // Hero Section - Background Parallax
        background_image_parallax($(".tm-parallax"), 0.30, false);
        background_image_parallax_2($("#contact"), 0.80);
        background_image_parallax_2($("#testimonials"), 0.80);

        // Handle window resize
        window.addEventListener('resize', function () {
            background_image_parallax($(".tm-parallax"), 0.30, true);
        }, true);

        // Detect window scroll and update navbar
        $(window).scroll(function (e) {
            if ($(document).scrollTop() > 120) {
                $('.tm-navbar').addClass("scroll");
            } else {
                $('.tm-navbar').removeClass("scroll");
            }
        });

        // Close mobile menu after click
        $('#tmNav a').on('click', function () {
            $('.navbar-collapse').removeClass('show');
        })

        // Scroll to corresponding section with animation
        $('#tmNav').singlePageNav({
            'easing': 'easeInOutExpo',
            'speed': 600
        });

        // Add smooth scrolling to all links
        // https://www.w3schools.com/howto/howto_css_smooth_scroll.asp
        $("a").on('click', function (event) {
            if (this.hash !== "") {
                event.preventDefault();
                var hash = this.hash;

                $('html, body').animate({
                    scrollTop: $(hash).offset().top
                }, 600, 'easeInOutExpo', function () {
                    window.location.hash = hash;
                });
            } // End if
        });

        // Pop up
        $('.tm-gallery').magnificPopup({
            delegate: 'a',
            type: 'image',
            gallery: {enabled: true}
        });

        $('.tm-testimonials-carousel').slick({
            dots: true,
            prevArrow: false,
            nextArrow: false,
            infinite: false,
            slidesToShow: 3,
            slidesToScroll: 1,
            responsive: [
                {
                    breakpoint: 992,
                    settings: {
                        slidesToShow: 2
                    }
                },
                {
                    breakpoint: 768,
                    settings: {
                        slidesToShow: 2
                    }
                },
                {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1
                    }
                }
            ]
        });

        // Gallery
        $('.tm-gallery').slick({
            dots: true,
            infinite: false,
            slidesToShow: 5,
            slidesToScroll: 2,
            responsive: [
                {
                    breakpoint: 1199,
                    settings: {
                        slidesToShow: 4,
                        slidesToScroll: 2
                    }
                },
                {
                    breakpoint: 991,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 2
                    }
                },
                {
                    breakpoint: 767,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 1
                    }
                },
                {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ]
        });
    });
</script>
    <script>
        // Function to open the additional box
        function openAdditionalBox() {
        document.getElementById("additionalBox").style.display = "block";
    }
        function OpenSubmitButton() {
        document.getElementById("acceptTerm").style.display = "block";
    }

        // Function to close the additional box
        function closeAdditionalBox() {
        document.getElementById("additionalBox").style.display = "none";
    }
        function toggleSubmitButton() {
        var checkbox = document.getElementById('acceptTerm');
        var submitButton = document.getElementById('submitButton');

        // If checkbox is checked, show the submit button, otherwise hide it
        if (checkbox.checked) {
        submitButton.style.display = 'block';
    } else {
        submitButton.style.display = 'none';
    }
    }

        // Add event listener to the checkbox to toggle submit button visibility
        document.getElementById('acceptTerm').addEventListener('change', toggleSubmitButton);

        // Initial call to toggleSubmitButton to set initial state of the button
        toggleSubmitButton();
</script>
<script>
    function validateInputs() {
        var inputs = document.querySelectorAll('input[type="text"], input[type="password"], textarea');

        for (var i = 0; i < inputs.length; i++) {
            if (!inputs[i].value.trim()) {
                alert('Please fill in all fields.');
                return false; // Prevent form submission if any field is empty
            }
        }

        return true; // All fields are filled
    }

    // Attach the validateInputs function to a form submit event
    document.querySelector('form').addEventListener('submit', function(event) {
        if (!validateInputs()) {
            event.preventDefault(); // Prevent form submission if validation fails
        }
    });

</script>
</html>